{
  "id": "aws-iam-policy",
  "name": "AWS IAM Policy Document",
  "description": "AWS IAM policy document structure",
  "category": "AWS",
  "template": {
    "iam_policy": {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Sid": "AllowS3ReadAccess",
          "Effect": "Allow",
          "Action": [
            "s3:GetObject",
            "s3:ListBucket"
          ],
          "Resource": [
            "arn:aws:s3:::my-bucket",
            "arn:aws:s3:::my-bucket/*"
          ],
          "Condition": {
            "StringEquals": {
              "aws:PrincipalTag/Department": "Engineering"
            }
          }
        },
        {
          "Sid": "DenyDeleteActions",
          "Effect": "Deny",
          "Action": [
            "s3:DeleteObject",
            "s3:DeleteBucket"
          ],
          "Resource": "*"
        }
      ]
    }
  }
}
